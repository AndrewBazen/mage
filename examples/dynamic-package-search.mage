#!/usr/bin/env mage

# ğŸ” Dynamic Package Search Demo
# Shows intelligent package searching and installation

incant "ğŸ” Dynamic Package Search Demo"
incant "================================"

# Show detected package manager
incant "ğŸ“¦ Detected package manager:"
cast get_primary_package_manager()

incant ""
incant "ğŸ§ª Testing dynamic package search..."
incant "(Note: This will search but NOT actually install)"

# Test common packages that should exist
incant ""
incant "ğŸ” Searching for 'vim'..."
# In a real scenario, this would search and install
# cast install_package("vim")

incant "ğŸ” Searching for 'curl'..."
# cast install_package("curl")

incant "ğŸ” Searching for 'git'..."
# cast install_package("git")

incant ""
incant "âœ¨ How Dynamic Search Works:"
incant "1. ğŸ” Search package repository for exact name"
incant "2. ğŸ“‹ Parse results to find correct package ID"
incant "3. ğŸ“¦ Install using the found package name"
incant "4. ğŸ”„ Fallback to hardcoded mappings if search fails"

incant ""
incant "ğŸ¯ Benefits:"
incant "â€¢ Works with ANY package in the repository"
incant "â€¢ Handles platform-specific naming automatically"
incant "â€¢ No need to maintain mapping databases"
incant "â€¢ Always uses latest repository data"

incant ""
incant "Example search commands per manager:"
incant "â€¢ apt: apt search '^package$'"
incant "â€¢ brew: brew search '^package$'"
incant "â€¢ winget: winget search package"
incant "â€¢ choco: choco search package --exact"

incant ""
incant "ğŸš€ Ready to install packages dynamically!"
incant "(Uncomment install_package calls above to test)" 